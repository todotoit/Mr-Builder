# Mr Builder

[TODO](http://todo.to.it) Collection of Grunt tasks and scripts to work with Frontend app with happyness.

###Briefly

- You need a project folder with the mandatory `app` folder in it.
- In `app` there'll be all the source project files
- `package.json` file is mandatory
- `env.json` file is mandatory
- `grunt dev` and `grunt build` require the `--app=path/to/project` at least the first time
- At least one `html` file need to be present with the `build:css` and `build:js` tags
- Use the boilerplate as starting point
- Run the builder with `grunt build --app=<full_path_to_project_folder>`


### override

- create `grunt/config` folder in project folder to put updated or new configs and to put new aliases.yml
- create `grunt/tasks` folder in project folder to put updated or new custom task


---
# OLD


# Setting up your project repository based on Mr-Builder

- Create a new repository on Github without init files for your new project
- Download [this zip file](https://github.com/todotoit/Mr-Builder/archive/master.zip), unzip and rename it, it will be your working copy
- Then enter with the shell and do ```git init```
- Rename the project name and reset the version into ```package.json``` file ane reset the README.md file included
- ```git add -A``` and ```git commit -m "first commit"```
- ```git remote add origin <YourNewGithubRepositoryUrl>```
- Push the repo ```git push```




# Setting up the development

- Clone your new project repository (if not already cloned) based on Mr-Builder
- run ```npm install``` or ```sudo npm install`` if you are on mac
- run ``` grunt dev``` to start your development session



# Setting the environment

There is a ```env.json``` file for environment configs. It's an hash that can be populated with different envs.
The key env ```default``` is required, it's the one that will be used once a grunt task ahs been launced without parameter.
If you need to set different **default** env in different machines, gitignore env.json file and put a version on each machine with the ```default``` key set properly.
Otherwise you can call a grunt task using a parameter corresponding the env key within the env.json file:

	grunt build --end=development

This command will run the build task and the object in the ```development``` key will be passed in the appData.env object.


# Regular development session

```grunt dev```


--


## Available npm scripts


### npm run tag

This script will patch the version in the package.json and will create the corresponding git tag. Usually it is used before a release/deploy.


### npm run serve

Shortcut of ```http-server``` to test the built version which is usually in ```/public``` folder


### npm run sassdev

Alias of ```grunt gruntsassdev --gruntfile GruntSassDev.js```.
Run this command to start a development session with .scss files alongside the live reload of Browser-sync.
You need to change the GruntSassDev.js file which is the grunt file used for this specific tasks because the original one is too slow for proper development job.


### npm run dev

Alias of ```grunt dev```.
Start a regular session with Browser-sync.





## Available grunt tasks


### gh-pages:gh-pages

Take the content on the ```dist``` folder and deploy it to gh-pages. You can configure additional settings, most notabily another origin to have multiple public area using free repository.


### svgmin

Clean and optimize svgs generated by Illustrator, ready for production.

### firebase

follow firebase instruction to set up its environment

